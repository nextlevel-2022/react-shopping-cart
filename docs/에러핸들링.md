# ğŸ”¶Â ì—ëŸ¬ í•¸ë“¤ë§

## ğŸ”¹Â  í™•ì¥ì ì˜¤ë¥˜(ts, tsx)

```
TS2749: 'ProductList' refers to a value, but is being used as a type here. Did you mean 'typeof ProductList'?
```

- jsx ë¬¸ë²•ì„ ì“°ê³  ìˆëŠ”ë° `.ts` ë‹¤ ë³´ë‹ˆ ì´ëŸ° ì—ëŸ¬ê°€ ëœ¸
- `.tsx` ë¡œ í•´ê²°

## ğŸ”¹Â sagaTask íƒ€ì… ë¬¸ì œê°€ ìƒê¸¸ ë•Œ

```tsx
// eslint-disable-next-line import/named
import createSagaMiddleware, { Task } from 'redux-saga';

declare module 'redux' {
  export interface Store {
    sagaTask?: Task;
  }
}

export const makeStore = () => {
  const sagaMiddleware = createSagaMiddleware();

  const store = createStore(
    persistedRootReducer,
    composeWithDevTools(applyMiddleware(sagaMiddleware, logger)),
  );

  store.sagaTask = sagaMiddleware.run(rootSaga);

  return store;
};
```

- sagaTask íƒ€ì… ë¬¸ì œê°€ ìƒê¸¸ ë•Œ
- ì»¤ìŠ¤í…€ íƒ€ì… ì§€ì •

## ğŸ”¹selector ë¡œ ë¶€í„° ì†ì„± ê°’ ì¶”ì¶œí•˜ëŠ” ë¶€ë¶„ ìœ í‹¸ í•¨ìˆ˜ë¡œ ë¶„ë¦¬í•˜ëŠ”ë° íƒ€ì… ë¬¸ì œ

```tsx
export const createModelAttributeObject = (attributeSelector: any) => ({
  value: useAppSelector(attributeSelector.value),
  isLoading: useAppSelector(attributeSelector.isLoading),
  hasError: useAppSelector(attributeSelector.hasError),
  error: useAppSelector(attributeSelector.error),
});
```

```tsx
const {
    value: products,
    isLoading: isLoadingProducts,
    hasError: hasErrorProducts,
    error: errorProducts,
  } = createModelAttributeObject(productsAttributeSelector);

// ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©!! 
const { products, getProducts, isLoadingProducts } = useProducts();
```

<img src="https://user-images.githubusercontent.com/44131043/155139502-cabf27fa-8087-495b-9328-ceab91503fc6.jpg" width="600px">

productsì˜ ê°’ì´ unknown....

### í•´ê²°

selector ë¡œë¶€í„° ê°’ë“¤ì„ ë½‘ì•„ì˜¤ëŠ” ë¶€ë¶„ì´ ë„ˆë¬´ ë°˜ë³µ ì‘ì—…ì¸ ê²ƒ ê°™ì•„ utils ë¡œ ë¶„ë¦¬í–ˆë‹¤. ê·¸ëŸ°ë° íƒ€ì…ì´ ë¬¸ì œê°€ ìƒê²¨ ì œë„¤ë¦­ì„ ì‚¬ìš©í•´ íƒ€ì…ì„ ëª…í™•í•˜ê²Œ í•´ì£¼ê³  í•´ê²°í–ˆë‹¤.

```tsx
export const createModelAttributeObject = <ValueType>(
  attributeSelector: any,
): BaseRequestReducerState<ValueType> => ({
  value: useAppSelector(attributeSelector.value),
  isLoading: useAppSelector(attributeSelector.isLoading),
  hasError: useAppSelector(attributeSelector.hasError),
  error: useAppSelector(attributeSelector.error),
});
```

```tsx
const {
    value: products,
    isLoading: isLoadingProducts,
    hasError: hasErrorProducts,
    error: errorProducts,
  } = createModelAttributeObject<Product[]>(productsAttributeSelector);
```

<img src="https://user-images.githubusercontent.com/44131043/155139621-05771ab0-478c-4dfd-85c5-a6d2024177cc.jpg" width="600px">
